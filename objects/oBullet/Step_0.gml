//move
xspd = lengthdir_x(spd, dir);
yspd = lengthdir_y(spd, dir);

x +=xspd;
y += yspd